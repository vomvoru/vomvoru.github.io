상속이 안좋은 이유
인터페이스에 맞춰서 프로그래밍 한다는 것은 인터페이스, 추상클래스, 클래스를 구현하는것을 의미한다.

그럼 상속이 안좋은 이유를 피해서 인터페이스에 맞춰서 프로그래밍을 해야될때가 있다는 것인데

그 이유로 상속이 안좋은 이유를 정리하고 그것에 주의하여 코딩하자.

# 상속의 장단점

## 장점


## 단점
* 복잡도의 증가
* 변화에 닫혀있음
    * 클래스의 행동(메서드)를 변경하고 싶음
        * 클래스 코드를 변경해야됨
* 캡슐화를 위배
    * 서브 클래스는 수퍼클래스가 구현하는 상세내역(protected)에 의존함
    * 수퍼 클래스를 변경시 서브 클래스에 영향을줌
        * 오류 가능성이 높아짐
        * 결국 수퍼 클래스는 변화에 닫히게 됨
        * 메서드를 변경할때는 메서드의 역할이 동일하며 알고리즘만 변경될경우에는 문제되지 않지만 구조가 조금이라도 변경되며 자기에게 서브클래스가 있다면 영향도를 고려해야됨
        * 메서드를 추가할때는 무조건 서브클래스에 영향도를 고려해야됨
* 상속될수록 public 되는 메서드의 증가
    * 자기에게 필요없는 슈퍼클래스의 메서드를 서브클래스라는 이유만으로 상속받음
* 수퍼클래스의 메서드를 오버라이딩하여 중복된 코드가 각각 다른 서브 클래스에 존재할수 있음
    * 서브클래스와 수퍼클래스 사이에 새로운 클래스와 관계를 넣으면 중복코드를 삭제할수 있음
        * 전체구조가 변경됨
            * 복잡도 증가(계속 이런일이 반복/중첩될 수 있음)


결국 서브클래스가 수퍼클래스의 메서드 및 필드에 의존하기 때문에 위와 같은 문제가 발생
상속의 장점인 다형성만을 가져오는 인터페이스를 사용해야되는 이유가 여기에 있음.
인터페이스를 상속하면 중복코드를 처리할수 없는 문제점이 있으므로
중복코드의 문제는 composition 방법을 이용하여 해결한다.
인터페이스를 사용해야 하므로 composition하는 클래스타입을 인터페이스로 지정하여 다형성 및 유연성을 가지도록 만들어야됨.
composition 방법을 이용하면 자기에게 필요한 메서드만을 사용할 수 있음(쓸대없는 메서드를 상속받지 않아도 되며 그걸 public 하지 않아도 됨)

결론은 서브클래스가 수퍼클래스의 메서드 및 필드에 의존되게 만들면 안되며 다형성만을 활용해야되고 이에 적합한 기능은 인터페이스이다.
또한 인터페이스의 메서드 및 필드에 의존되게 만들면 중복코드를 해결하면서 다형성을 활용할수 있음

다만, 클래스에 동적이 아닌 코드적으로 특정 클래스를 인터페이스로 포함시키면 이는 상속시 발생하는 수퍼클래스의 메서드 및 필드에 의존함으로서 나타나는 문제점이 발생함. 다만, 자기가 필요한 메서드만 사용가능하므로 상속보다는 낫다.

여하튼 의존한다는것은 다를바 없고,

뭐 인터페이스에 의존하므로 캡슐화를 위배하지는 않는다.

다만 인터페이스에 의존하므로 인터페이스를 초기에 잘 짜둬야 한다. 인터페이스는 변화에 닫히게 된다. 그 인터페이스를 구현하는 클래스는 변화에 열려있다. 상속에서 본다면 수퍼클래스 역할을 하는 클래스가 변화에 열려있다고 볼 수 있다. 그 클래스를 아무리 변화시켜도. 특정 인터페이스를 구현하는 요소들만 잘 지키면 그 인터페이스를 의존하는 (상속에서는 서브클래스 역할을 하는)클래스에는 문제를 끼치지는 않는다. (성능적인 변화는 있을 수 있다)


# 구체화된 클래스에 의존하지 않고 인터페이스에 의존해야 한다
# 구체화된 클래스에 의존하는 경우

* OCP에 위배된다
    * 확장에 대해 닫혀있다.
        *
    * 변경에 대해 열려있다.

결론적으로 구체화된 클래스에 의존하지 않고 인터페이스에 의존해야 한다.

http://aroundck.tistory.com/617
